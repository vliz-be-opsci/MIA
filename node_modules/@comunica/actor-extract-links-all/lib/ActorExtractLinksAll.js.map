{"version":3,"file":"ActorExtractLinksAll.js","sourceRoot":"","sources":["ActorExtractLinksAll.ts"],"names":[],"mappings":";;;AACA,mEAAgE;AAEhE,yCAAoD;AAEpD;;GAEG;AACH,MAAa,oBAAqB,SAAQ,qCAAiB;IACzD,YAAmB,IAA2E;QAC5F,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,OAA4B;QAC5C,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,GAAG,CAAC,MAA2B;QAC1C,OAAO;YACL,KAAK,EAAE,MAAM,qCAAiB,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBAC5E,KAAK,MAAM,IAAI,IAAI,IAAA,yBAAa,EAAC,IAAA,oBAAQ,EAAC,IAAI,CAAC,CAAC,EAAE,CAAC;oBACjD,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,eAAe,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAC,EAAC,CAAC,CAAC;gBACpF,CAAC;YACH,CAAC,CAAC;SACH,CAAC;IACJ,CAAC;CACF;AAlBD,oDAkBC","sourcesContent":["import type { IActionExtractLinks, IActorExtractLinksOutput } from '@comunica/bus-extract-links';\nimport { ActorExtractLinks } from '@comunica/bus-extract-links';\nimport type { IActorArgs, IActorTest } from '@comunica/core';\nimport { getNamedNodes, getTerms } from 'rdf-terms';\n\n/**\n * A comunica Traverse All RDF Metadata Extract Actor.\n */\nexport class ActorExtractLinksAll extends ActorExtractLinks {\n  public constructor(args: IActorArgs<IActionExtractLinks, IActorTest, IActorExtractLinksOutput>) {\n    super(args);\n  }\n\n  public async test(_action: IActionExtractLinks): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionExtractLinks): Promise<IActorExtractLinksOutput> {\n    return {\n      links: await ActorExtractLinks.collectStream(action.metadata, (quad, links) => {\n        for (const link of getNamedNodes(getTerms(quad))) {\n          links.push({ url: link.value, metadata: { producedByActor: { name: this.name }}});\n        }\n      }),\n    };\n  }\n}\n"]}