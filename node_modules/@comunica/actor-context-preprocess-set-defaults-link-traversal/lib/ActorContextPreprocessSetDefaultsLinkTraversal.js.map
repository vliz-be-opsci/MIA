{"version":3,"file":"ActorContextPreprocessSetDefaultsLinkTraversal.js","sourceRoot":"","sources":["ActorContextPreprocessSetDefaultsLinkTraversal.ts"],"names":[],"mappings":";;;AACA,6EAA0E;AAC1E,+DAAoE;AAGpE;;GAEG;AACH,MAAa,8CAA+C,SAAQ,+CAAsB;IACxF,YAAmB,IAAiC;QAClD,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,OAAgB;QAChC,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,GAAG,CAAC,MAAe;QAC9B,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAE7B,sDAAsD;QACtD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,yCAAuB,CAAC,QAAQ,CAAC,EAAE,CAAC;YACnD,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,yCAAuB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAChE,CAAC;QAED,OAAO,EAAE,OAAO,EAAE,CAAC;IACrB,CAAC;CACF;AAnBD,wGAmBC","sourcesContent":["import type { IActorContextPreprocessOutput, IActorContextPreprocessArgs } from '@comunica/bus-context-preprocess';\nimport { ActorContextPreprocess } from '@comunica/bus-context-preprocess';\nimport { KeysQuerySourceIdentify } from '@comunica/context-entries';\nimport type { IAction, IActorTest } from '@comunica/core';\n\n/**\n * A comunica Set Defaults Link Traversal Context Preprocess Actor.\n */\nexport class ActorContextPreprocessSetDefaultsLinkTraversal extends ActorContextPreprocess {\n  public constructor(args: IActorContextPreprocessArgs) {\n    super(args);\n  }\n\n  public async test(_action: IAction): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IAction): Promise<IActorContextPreprocessOutput> {\n    let context = action.context;\n\n    // Set traverse flag to true if the flag is undefined.\n    if (!context.has(KeysQuerySourceIdentify.traverse)) {\n      context = context.set(KeysQuerySourceIdentify.traverse, true);\n    }\n\n    return { context };\n  }\n}\n"]}